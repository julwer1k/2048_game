function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r,n=document.getElementsByClassName("button--start")[0],a=document.getElementsByClassName("message--start")[0],o=document.getElementsByClassName("button--restart")[0],s=document.getElementsByClassName("message--lose")[0],i=document.getElementsByClassName("message--win")[0],c=document.getElementsByClassName("game-score")[0],u=document.getElementsByClassName("tile"),d=0,l=!1;function f(){(function(){if(m())return!1;for(var e=0;e<4;e++)for(var t=0;t<4;t++){var n=r[e][t];if(t<3&&n===r[e][t+1]||e<3&&n===r[e+1][t])return!1}return!0})()&&(l=!0,s.classList.remove("message--hidden"))}function m(){for(var e=0;e<4;e++)for(var t=0;t<4;t++)if(0===r[e][t])return!0;return!1}function g(){if(m())for(var e=!1;!e;)!function(){var t=Math.floor(4*Math.random()),n=Math.floor(4*Math.random());if(0===r[t][n]){var a=.1>Math.random()?4:2;r[t][n]=a;var o=document.getElementById(t.toString()+"-"+n.toString());o.innerText=a.toString(),o.classList.add("tile--".concat(a)),o.classList.add("tile--pop"),setTimeout(function(){o.classList.remove("tile--pop")},500),e=!0}}()}function v(e){f();for(var n=!1,a=0;a<4;a++){var o=r[a],s=t(o);switch(e){case"left":o=b(o),r[a]=o;break;case"right":o.reverse(),o=b(o),r[a]=o.reverse()}y(s,o)||(n=!0);for(var i=0;i<4;i++)p(document.getElementById(a.toString()+"-"+i.toString()),r[a][i])}return n}function h(e){f();for(var n=!1,a=0;a<4;a++){var o=[r[0][a],r[1][a],r[2][a],r[3][a]],s=t(o);switch(e){case"up":o=b(o);break;case"down":o.reverse(),(o=b(o)).reverse()}y(s,o)||(n=!0);for(var i=0;i<4;i++)r[i][a]=o[i],p(document.getElementById(i.toString()+"-"+a.toString()),r[i][a])}return n}function y(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function p(e,t){e.innerText="",e.classList.value="",e.classList.add("tile"),t>0&&(e.innerText=t.toString(),t<=2048&&(e.classList.add("tile--".concat(t)),2048===t&&(i.classList.remove("message--hidden"),l=!0)))}function b(e){e=e.filter(function(e){return 0!==e});for(var t=[],r=0;r<e.length;r++)e[r]===e[r+1]?(t.push(2*e[r]),d+=2*e[r],r++):t.push(e[r]);for(;t.length<4;)t.push(0);return t}n.addEventListener("click",function(){(function(){r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];for(var e=0;e<4;e++)for(var t=0;t<4;t++){var n=document.createElement("div"),a=r[e][t];n.id=e.toString()+"-"+t.toString(),p(n,a),document.getElementById("board").append(n)}})(),n.classList.add("button--hidden"),a.classList.add("message--hidden"),o.classList.remove("button--hidden"),g(),g()}),o.addEventListener("click",function(){r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Array.from(u).forEach(function(e){e.innerText="",e.className="tile"}),d=0,c.innerText=d,s.classList.add("message--hidden"),i.classList.add("message--hidden"),l=!1,g(),g()}),document.addEventListener("keydown",function(e){if(!l){var t=!1;switch(e.key){case"ArrowLeft":t=v("left");break;case"ArrowRight":t=v("right");break;case"ArrowUp":t=h("up");break;case"ArrowDown":t=h("down")}t&&g(),c.innerText=d}});
//# sourceMappingURL=index.01826940.js.map
